{% extends 'base/base.html' %} {% block content %}
{% load user_tags %}
{% load static %}


<title>Questions</title>
<div >
    <h1>Questions</h1><div />
    <table align="center" style="width:85%;font-family: Montserrat">
        <tr>
            <th>PROGRAM NAME</th>
            <th>MODULE</th>
            <th>LEVEL</th>
            <th>QUESTION</th>
            <th>ACTION</th>
        </tr>
        {% for q1 in p %}
        <tr>
            <td>{{q1.program}}</td>
            <td>{{q1.module}}</td>
            <td>{{q1.level}}</td>
            <td>{{q1.question}}</td>
            <td>
                <a href="{% url 'view_questions' q1.question_id %}">View</a> | <a href="{% url 'edit_question' q1.question_id %}">Edit</a> | <a href="{% url 'delete_question' q1.question_id %}">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
<br><br><br>
<div class="pagination" style="position:absolute;left:35%">
     
        <ul class="pagination justify-content-center" >
                {% if p.has_previous %}
                <li class="page-item"><a class="" href="?page={{p.previous_page_number}}">&laquo;</a></li>
                {% else %}
                <li class="page-item"><a>&laquo;</a></li>
                {% endif %}
                {% for pg in p.paginator.page_range %}
                {% if p.number == pg %}
                <li class="page-item active" style="background-color:orange;color:white;"><a href="?page={{pg}}">{{pg}}</a></li>
                {% elif pg > p.number|add:'-5' and pg < p.number|add:'5' %}
                <li><a href="?page={{ pg }}"><span>{{pg}}</span></a></li>

                {% endif %}
                {% endfor %}

                {% if p.has_next %}
                <li><a class="page-item" href="?page={{p.next_page_number}}">&raquo;</a></li>
                {% else %}
                <li class="page-item"><span>&raquo;</span></li>
                {% endif %}
        </ul>
    
</div>


<br><br><br>
<div style="position:absolute;left:10%;" id="">
    <a class="button" href="{% url 'add_question' %}">ADD QUESTION</a>
    <a class="button" onClick="func()" href="{% url 'questions_export' %}">EXPORT QUESTIONS</a>

    <form method="post" action="{% url 'questions_import' %}" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="file" name="myfile">
        <button class="button" type="submit">Upload</button>
    </form>
</div>
            
<script>
    function func() {
        alert("CSV File will Begin Downloading")
    }
</script>

        {% endblock content %}

